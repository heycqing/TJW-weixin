## 🎮 nodeJs开发微信公众号

> 使用方法

### 运行环境（线上和测试）

1. **在测试环境运行，可以通过localtunnel来进行外网映射**
 
    + 1.1 安装**localtunnel**

    ```npm install -g localtunnel ```
    
    + 1.2 启动服务

        - 1.2.1 在根目录启动 `app.js `

            ``` node app.js ```

        + 1.2.2 然后，启动 映射服务 

            ```lt --port 5544(端口号) ```

        + 1.2.3 在微信测试号配置好 **链接**

    + 1.3 进入测试公众号进行测试；
    

2. **如何正确部署线上环境？**

    对于 `nodeJs` 来讲想要对 `微信公众号` 进行开发，只能监听 `80端口或者433端口`，但是 `node应用` 监听 `80端口` 的话，服务器只能监听其他端口，可能会导致一些其他的问题，为了避免这些问题和解决单用`测试环境`的做法所导致链接不稳定问题，这里推荐解决办法是： **使用nginx为node应用做反向代理**

    > 做法：
    + 2.1 服务器必须是： `nginx`;
    + 2.2 对 `nginx` 的配置文件做修：
        + 2.2.1 `nginx` 配置文件路径:
            <br>
            一般情况下：
            ``` /etc/nginx/nginx.conf ``
        + 2.2.2 `nginx` 配置文件修改：   
        ```js
            server {
                listen   3000(端口号);    
     
                location / {
                    proxy_pass 代理网址;
                }

            }
        ```



#### 问题：
####  客服消息需要获取微信认证，才可以有权限调用接口

#### 实现了多条消息回复
